[gd_scene load_steps=13 format=3 uid="uid://rvyhsjqw1iee"]

[ext_resource type="Script" uid="uid://b2s3n6cq41yuo" path="res://Scripts/player.gd" id="1_v0iea"]
[ext_resource type="PackedScene" uid="uid://br6r1ixxkcvvy" path="res://Interact/interact_ray.tscn" id="2_6t5aa"]
[ext_resource type="Texture2D" uid="uid://dvvbppbwoj674" path="res://Assets/HUD/baseball_bat.png" id="3_3smsa"]
[ext_resource type="Texture2D" uid="uid://bwu8u0sbrkkp7" path="res://Assets/HUD/knife.png" id="4_8erm5"]
[ext_resource type="Texture2D" uid="uid://chrhya6b6ljf" path="res://Assets/HUD/crosshair.png" id="4_fkybt"]
[ext_resource type="Texture2D" uid="uid://ddbbpom3rdryt" path="res://Assets/HUD/gun.png" id="5_f1ek2"]
[ext_resource type="Texture2D" uid="uid://btoaeu8apldf" path="res://Assets/HUD/hp.png" id="6_8erm5"]
[ext_resource type="PackedScene" uid="uid://ddyidyxnkh54k" path="res://Scenes/character.tscn" id="9_f1ek2"]

[sub_resource type="LabelSettings" id="LabelSettings_3smsa"]
font_size = 64

[sub_resource type="LabelSettings" id="LabelSettings_8erm5"]
font_size = 64

[sub_resource type="LabelSettings" id="LabelSettings_f1ek2"]
font_size = 52

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tx1dd"]
radius = 0.3095703
height = 1.8033166

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_v0iea")
animation_blend_easing = 4.0
camera_pitch_min = -60.0
camera_pitch_max = 40.0
camera_bobbing_multiplier = 1.2

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="Crosshair" type="TextureRect" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("4_fkybt")
stretch_mode = 2

[node name="Baseball_Bat" type="TextureRect" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -221.0
offset_top = -512.0
offset_right = 35.0
offset_bottom = -256.0
grow_horizontal = 0
grow_vertical = 0
scale = Vector2(0.67, 0.67)
texture = ExtResource("3_3smsa")

[node name="Knife" type="TextureRect" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -221.0
offset_top = -337.99994
offset_right = 35.0
offset_bottom = -81.99994
grow_horizontal = 0
grow_vertical = 0
scale = Vector2(0.67, 0.67)
texture = ExtResource("4_8erm5")

[node name="Gun" type="TextureRect" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -221.0
offset_top = -186.0
offset_right = 35.0
offset_bottom = 70.0
grow_horizontal = 0
grow_vertical = 0
scale = Vector2(0.67, 0.67)
texture = ExtResource("5_f1ek2")

[node name="Ammo_Current" type="Label" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -546.0
offset_top = -139.0
offset_right = -376.0
offset_bottom = -49.0
grow_horizontal = 0
grow_vertical = 0
text = "0"
label_settings = SubResource("LabelSettings_3smsa")
horizontal_alignment = 2
vertical_alignment = 1

[node name="Ammo_Reserve" type="Label" parent="CanvasLayer/Control"]
modulate = Color(1, 1, 1, 0.1)
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -356.0
offset_top = -139.0
offset_right = -186.0
offset_bottom = -43.0
grow_horizontal = 0
grow_vertical = 0
text = "/ 0"
label_settings = SubResource("LabelSettings_8erm5")
vertical_alignment = 1

[node name="Health_Label" type="Label" parent="CanvasLayer/Control"]
layout_mode = 1
offset_left = 424.0
offset_top = 9.0
offset_right = 594.0
offset_bottom = 99.0
text = "100"
label_settings = SubResource("LabelSettings_f1ek2")
vertical_alignment = 1

[node name="Health_Bar_BG" type="TextureRect" parent="CanvasLayer/Control"]
modulate = Color(1, 1, 1, 0.1)
layout_mode = 1
offset_left = 47.0
offset_top = 38.0
offset_right = 410.0
offset_bottom = 74.0
texture = ExtResource("6_8erm5")

[node name="Health_Bar" type="TextureRect" parent="CanvasLayer/Control"]
modulate = Color(0, 1, 0, 1)
layout_mode = 1
offset_left = 47.0
offset_top = 38.0
offset_right = 410.0
offset_bottom = 74.0
texture = ExtResource("6_8erm5")

[node name="Flashlight_Prompt_Label" type="Label" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -158.0
offset_top = -74.0
offset_right = 158.0
offset_bottom = -51.0
grow_horizontal = 2
grow_vertical = 2
text = "Press E to toggle flashlight"
horizontal_alignment = 1
vertical_alignment = 1

[node name="DoorLocked_prompt" type="Label" parent="CanvasLayer/Control"]
custom_minimum_size = Vector2(200, 30)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -100.0
offset_top = -50.0
offset_right = 100.0
offset_bottom = -18.0
grow_horizontal = 2
grow_vertical = 2

[node name="DummyDoor_prompt" type="Label" parent="CanvasLayer/Control"]
custom_minimum_size = Vector2(200, 30)
layout_mode = 0
offset_left = 473.0
offset_top = 350.0
offset_right = 673.0
offset_bottom = 380.0

[node name="ExitAndWin_prompt" type="Label" parent="CanvasLayer/Control"]
custom_minimum_size = Vector2(300, 30)
layout_mode = 0
offset_left = 423.0
offset_top = 281.0
offset_right = 723.0
offset_bottom = 311.0

[node name="InteractRay" parent="." instance=ExtResource("2_6t5aa")]
visible = false
collide_with_areas = true
collide_with_bodies = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9002911, 0.037)
shape = SubResource("CapsuleShape3D_tx1dd")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)

[node name="Character" parent="Head" instance=ExtResource("9_f1ek2")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, -1.6, 0.22848535)

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(1, 4.1113555e-08, -1.6994306e-07, 1.0755186e-07, 0.6216811, 0.7832705, 1.378534e-07, -0.7832705, 0.6216811, 0, 0.020413518, 0.139094)
rotation_order = 5
current = true

[node name="SpotLight3D" type="SpotLight3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 0.9702956, 0.24192187, 0, -0.24192187, 0.9702956, 0, 0, 0)
light_color = Color(1, 0.91904116, 0.8448446, 1)
light_energy = 2.0
shadow_enabled = true
shadow_bias = 0.2
shadow_opacity = 0.8
spot_range = 10.0

[node name="RayCast3D" type="RayCast3D" parent="Head/Camera3D"]
target_position = Vector3(0, 0, -100)
